-- TYPE_FAMILY
CREATE TABLE `c_family_type` (
  `ID` int(11) NOT NULL,
  `DESCRIPTION` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- AUTHORIZATION TYPE
CREATE TABLE `c_authorization_type` (
  `ID` int(11) NOT NULL,
  `DESCRIPTION` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- JOB SITUATION
CREATE TABLE `c_job_situation` (
  `ID` int(11) NOT NULL,
  `DESCRIPTION` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- STUDIES TYPE
CREATE TABLE `c_studies` (
  `ID` int(11) NOT NULL,
  `DESCRIPTION` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- HOME TYPE
CREATE TABLE `c_home_type` (
  `ID` int(11) NOT NULL,
  `DESCRIPTION` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- OTHER INFO
CREATE TABLE `c_other_info` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `INSTITUTIONS` varchar(600) DEFAULT NULL,
  `DEMAND` varchar(600) DEFAULT NULL,
  `DESCRIPTION` varchar(600) DEFAULT NULL,
  `ACTUATIONS` varchar(600) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- ADDRESS
CREATE TABLE `c_address` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `TOWN` varchar(20) DEFAULT NULL,
  `STREET` varchar(20) DEFAULT NULL,
  `GATE` varchar(20) DEFAULT NULL,
  `FLOOR` varchar(20) DEFAULT NULL,
  `TELEPHONE` varchar(20) DEFAULT NULL,
  `TELEPHONE_CONTACT` varchar(20) DEFAULT NULL,
  `POSTAL_CODE` varchar(20) DEFAULT NULL,
  `PLACE` varchar(100) DEFAULT NULL,
  `CENSUS` date DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- HOME
CREATE TABLE `c_home` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `REG_HOLDING` varchar(20) DEFAULT NULL,
  `NUMBER_ROOMS` tinyint(4) DEFAULT NULL,
  `NUMBER_PEOPLE` tinyint(4) DEFAULT NULL,
  `NUMBER_FAMILIES` tinyint(4) DEFAULT NULL,
  `OTHER_INFO` varchar(255) DEFAULT NULL,
  `ID_HOME_TYPE` int(11) DEFAULT NULL,
  `ID_ADDRESS` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `home_address` (`ID_ADDRESS`),
  KEY `home_homeType` (`ID_HOME_TYPE`),
  CONSTRAINT `home_address` FOREIGN KEY (`ID_ADDRESS`) REFERENCES `c_address` (`ID`),
  CONSTRAINT `home_homeType` FOREIGN KEY (`ID_HOME_TYPE`) REFERENCES `c_home_type` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- FAMILY
CREATE TABLE `c_family` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `OTHER_INFO` varchar(255) DEFAULT NULL,
  `ID_FAMILY_TYPE` int(11) DEFAULT NULL,
  `ID_HOME` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `family_family_type` (`ID_FAMILY_TYPE`),
  KEY `family_home` (`ID_HOME`),
  CONSTRAINT `family_family_type` FOREIGN KEY (`ID_FAMILY_TYPE`) REFERENCES `c_family_type` (`ID`),
  CONSTRAINT `family_home` FOREIGN KEY (`ID_HOME`) REFERENCES `c_home` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- RELATIVE
CREATE TABLE `c_relative` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `RELATION_SHIP` varchar(20) DEFAULT NULL,
  `NAME` varchar(20) DEFAULT NULL,
  `SURNAME` varchar(20) DEFAULT NULL,
  `DATE_BORN` date DEFAULT NULL,
  `SITUATION` varchar(20) DEFAULT NULL,
  `ID_FAMILY` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `relative_family` (`ID_FAMILY`),
  CONSTRAINT `relative_family` FOREIGN KEY (`ID_FAMILY`) REFERENCES `c_family` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- PEOPLE
CREATE TABLE `c_people` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `DNI` varchar(9) DEFAULT NULL,
  `NAME` varchar(100) NOT NULL,
  `SEX` char(1) NOT NULL,
  `FIRST_SURNAME` varchar(100) NOT NULL,
  `DATE_BORN` date DEFAULT NULL,
  `ACTIVE` tinyint(1) DEFAULT '1',
  `PASSPORT` varchar(20) DEFAULT NULL,
  `SECOND_SURNAME` varchar(100) DEFAULT NULL,
  `CREATE_DATE` date DEFAULT NULL,
  `REACTIVATE_DATE` date DEFAULT NULL,
  `COUNTRY` varchar(100) DEFAULT NULL,
  `NATIONALITY` varchar(100) DEFAULT NULL,
  `YEAR_TO_SPAIN` smallint(6) DEFAULT NULL,
  `CIVIL_STATUS` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;


-- PROGRAM 
CREATE TABLE `c_program` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `ID_PEOPLE` int(11) DEFAULT NULL,
  `ID_FAMILY` int(11) DEFAULT NULL,
  `ID_AUTHORIZATION_TYPE` int(11) DEFAULT NULL,
  `ID_JOB_SITUATION` int(11) DEFAULT NULL,
  `ID_STUDIES` int(11) DEFAULT NULL,
  `ID_OTHER_INFO` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `idPeople` (`ID_PEOPLE`),
  KEY `program_authorization` (`ID_AUTHORIZATION_TYPE`),
  KEY `program_family` (`ID_FAMILY`),
  KEY `program_job_situation` (`ID_JOB_SITUATION`),
  KEY `program_studies` (`ID_STUDIES`),
  KEY `program_other_info` (`ID_OTHER_INFO`),
  CONSTRAINT `program_authorization` FOREIGN KEY (`ID_AUTHORIZATION_TYPE`) REFERENCES `c_authorization_type` (`ID`),
  CONSTRAINT `program_family` FOREIGN KEY (`ID_FAMILY`) REFERENCES `c_family` (`ID`),
  CONSTRAINT `program_job_situation` FOREIGN KEY (`ID_JOB_SITUATION`) REFERENCES `c_job_situation` (`ID`),
  CONSTRAINT `program_other_info` FOREIGN KEY (`ID_OTHER_INFO`) REFERENCES `c_other_info` (`ID`),
  CONSTRAINT `program_people` FOREIGN KEY (`ID_PEOPLE`) REFERENCES `c_people` (`ID`),
  CONSTRAINT `program_studies` FOREIGN KEY (`ID_STUDIES`) REFERENCES `c_studies` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- TICKET
CREATE TABLE `c_ticket` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ID_PEOPLE` int(11) NOT NULL,
  `DATE_APRIL` datetime DEFAULT NULL,
  `DATE_AUGUST` datetime DEFAULT NULL,
  `DATE_DECEMBER` datetime DEFAULT NULL,
  `DATE_FEBRUARY` datetime DEFAULT NULL,
  `DATE_JANUARY` datetime DEFAULT NULL,
  `DATE_JULY` datetime DEFAULT NULL,
  `DATE_JUNE` datetime DEFAULT NULL,
  `DATE_MARCH` datetime DEFAULT NULL,
  `DATE_MAY` datetime DEFAULT NULL,
  `DATE_NOVEMBER` datetime DEFAULT NULL,
  `DATE_OCTOBER` datetime DEFAULT NULL,
  `DATE_SEPTEMBER` datetime DEFAULT NULL,
  `POINTS_APRIL` int(11) NOT NULL,
  `POINTS_AUGUST` int(11) NOT NULL,
  `POINTS_DECEMBER` int(11) NOT NULL,
  `POINTS_FEBRUARY` int(11) NOT NULL,
  `POINTS_JANUARY` int(11) NOT NULL,
  `POINTS_JULY` int(11) NOT NULL,
  `POINTS_JUNE` int(11) NOT NULL,
  `POINTS_MARCH` int(11) NOT NULL,
  `POINTS_MAY` int(11) NOT NULL,
  `POINTS_NOVEMBER` int(11) NOT NULL,
  `POINTS_OCTOBER` int(11) NOT NULL,
  `POINTS_SEPTEMBER` int(11) NOT NULL,
  `YEAR` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idPeople` (`ID_PEOPLE`),
  CONSTRAINT `idPeople` FOREIGN KEY (`ID_PEOPLE`) REFERENCES `c_people` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `c_answer` (
  `id` int(11) DEFAULT NULL,
  `date` date DEFAULT NULL,
  `answer` varchar(20) DEFAULT NULL,
  `id_people` int(11) NOT NULL,
  `month` varchar(11) DEFAULT NULL,
  `year` int(11) DEFAULT NULL,
  `money` double DEFAULT NULL,
  KEY `answerIdPeople` (`id_people`),
  CONSTRAINT `answerIdPeople` FOREIGN KEY (`id_people`) REFERENCES `c_people` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

-- EXPENSE
CREATE TABLE `c_expense` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `CONCEPT` varchar(100) DEFAULT NULL,
  `AMOUNT` double DEFAULT NULL,
  `REGULARITY` varchar(100) DEFAULT NULL,
  `END_DATE` date DEFAULT NULL,
  `ID_PROGRAM` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `expense_program` (`ID_PROGRAM`),
  CONSTRAINT `expense_program` FOREIGN KEY (`ID_PROGRAM`) REFERENCES `c_program` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=306 DEFAULT CHARSET=utf8;

-- INCOME
CREATE TABLE `c_income` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `CONCEPT` varchar(100) DEFAULT NULL,
  `AMOUNT` double DEFAULT NULL,
  `people` varchar(100) DEFAULT NULL,
  `END_DATE` date DEFAULT NULL,
  `ID_PROGRAM` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `income_program` (`ID_PROGRAM`),
  CONSTRAINT `income_program` FOREIGN KEY (`ID_PROGRAM`) REFERENCES `c_program` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=256 DEFAULT CHARSET=utf8;